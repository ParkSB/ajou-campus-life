# 운영체제

## Introduction to Operating Systems

### System Calls

- 폰 노이만 구조, 모드 얘기, privileged instructions.
- 인터럽트:
  - 인터럽트는 하드웨어 장치가 만드는 신호. 비동기적으로 발생.
  - 현대 컴퓨터는 인터럽트 주도 방식으로 동작. 인터럽트가 발생하면 모드가 전환될 수 있음.
  - 익셉션(exception):
    - 소프트웨어가 인스트럭션을 실행하다가 만드는 신호.
    - 동기적으로 발생. CPU가 인스트럭션을 실행할 때만 일어남.
    - 의도를 갖고 일으킨 익셉션은 트랩(trap).
    - 예상치 못한 익셉션은 폴트(fault)
- 시스템 콜:
  - 식당에서 벨 누르면 주방에서 커널모드로 일하던 사장님이 홀에 나와서 유저모드로 전환하심.
  - OS가 서비스에게 제공하는 프로그래밍 인터페이스:
    - Win32 API for Windows, POSIX API for POSIX-based systems, Java API for JVM 등.
    - OS가 제공하는 서비스는 프로그램 실행, 파일 시스템, IO, 통신, 에러 감지 등.
  - man 페이지에 다 나와있음. 궁금하면 그냥 무조건 man 페이지보세요.
  - 리눅스에 시스템 콜이 몇 개나 있을 것 같아요? 350개 정도.
  - 저는 시스템 콜 써본 적이 없는데용? 사실 다 쓰고 있음.
  - `printf`도 시스템 콜인가요? 그건 표준 C 라이브러리. 라이브러리가 `write` 시스템 콜을 호출함.
- 컴퓨터 켜면 무슨 일이 일어나나요? Bootstrap program > Bootloader > Kernel phase 1 > Kernel phase 2

## OS Structures

- 과제 질문이 많이 들어옴. 윈도우즈 시스템에서 하지 마세용.
- 운영체제를 새로 하나 만들다고 생각해보죠:
  - 절대적인 답도 없고 최고의 방법도 없음. 대충 이렇게 했더니 성공적인 운영체제가 만들어지더라.
  - 그래서 우리는 운영체제가 일반적으로 어떻게 되어있고, 성공한 운영체제는 어떻더라 같은 얘기만 할거임.
  - 기본적으로 요구사항과 목적을 달성할 수 있어야. 스펙을 잘 정의해야 한다.
    - 어떤 하드웨어로, 어떤 종류의 시스템에서, 어떤 환경에서, ...
    - 사용자: 사용하기 편하고 배우기 쉬워야, 믿을 수 있어야, 안전해야, 빨라야.
    - 시스템: 설계하기 쉬워야, 구현하기 쉬워야, 유지보수가 쉬워야, 유연해야, 오류없어야, 효율적이어야.
  - 어떠헥 구현할까?
    - 초기 운영체제는 어셈블리로 작성. 그 이후로는 Algol, PL/1 사용.
    - 오늘 날에는 굉장히 많은 시스템이 C/C++로 작성됨. 시스템을 하나의 언어만으로 구현하지 않음.
    - 리눅스는 대부분 C로 작성됨. 토발즈가 C++ 안 좋아함. 저도 C++ 안 좋아해요. 언어가 지저분해.
